{"version":3,"sources":["webpack:///webpack/bootstrap 848f5243b5fd7b4861ea","webpack:///./src/client/app/index-test.js","webpack:///./src/client/app/assetsLoader.js","webpack:///./src/client/app/assetsManager.js","webpack:///./src/client/app/texture.js","webpack:///./src/client/app/textureAtlas.js","webpack:///./src/client/app/stage.js","webpack:///./src/client/app/displayObjectContainer.js","webpack:///./src/client/app/displayObject.js","webpack:///./src/client/app/bitmap.js","webpack:///./src/client/app/matrix2D.js"],"names":["assetsManager","assetsLoader","stage","init","getInstance","onComplete","addFile","load","data","getData","canvas","document","getElementById","alias","addImage","atlas","getImageByAlias","createTexture","texture","getTextureByName","bmp","width","height","addChild","x","y","setDebug","getCanvas","getContext","window","onload","instance","AssetsLoader","_loadingList","_data","fileURL","fileAlias","push","url","length","obj","shift","image","Image","_onLoadComplete","src","AssetsManager","_images","_atlases","_textures","Texture","name","rect","TextureAtlas","startX","startY","endX","endY","find","index","indexOf","splice","Stage","_lastTime","_frameCount","_fps","_canvas","_context","_debug","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","_enterFrame","curTime","Date","getTime","clearRect","save","render","restore","beginPath","fillStyle","fillRect","fill","font","fillText","myRequestAnimationFrame","debug","DisplayObjectContainer","children","child","parent","removeChild","tab1","slice","tab2","concat","context","forEach","DisplayObject","scaleX","scaleY","rotation","alpha","matrix","Matrix2D","Math","PI","update","visible","mat","globalAlpha","transform","a","b","c","d","tx","ty","draw","appendTransform","skewX","skewY","pivotX","pivotY","Bitmap","drawImage","initialize","prototype","identity","DEG_TO_RAD","prepend","tx1","a1","c1","append","b1","d1","prependMatrix","appendMatrix","prependTransform","regX","regY","r","cos","sin","rotate","angle","skew","scale","translate","invert","n","isIdentity","transformPoint","pt","decompose","target","sqrt","atan2","reinitialize","copy","clone","toString","Maxtrix2D"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 848f5243b5fd7b4861ea","import AssetsLoader from \"./assetsLoader\";\nimport AssetsManager from \"./assetsManager\";\nimport Texture from \"./texture\";\nimport TextureAtlas from \"./textureAtlas\";\nimport Stage from \"./stage\";\nimport Bitmap from \"./bitmap\";\n\n/* Point d'entrée de l'application */\nlet assetsManager = new AssetsManager();\nlet assetsLoader = new AssetsLoader();\nlet stage = new Stage();\nfunction init(){\n\n    assetsLoader.getInstance().onComplete = onComplete;\n    assetsLoader.getInstance().addFile(\"atari400.png\",\"ground\");\n    assetsLoader.getInstance().load();\n}\n\nfunction onComplete(){\n    var data = assetsLoader.getInstance().getData();\n    var canvas = document.getElementById('tomahawk');\n    \n    // on initialise la racine en lui envoyant la référence vers le canvas\n    stage.getInstance().init(canvas);\n    \n    for( var alias in data ){\n        assetsManager.getInstance().addImage(data[alias],alias);\n    }\n    \n    // on crée un nouvel atlas\n    var atlas = new TextureAtlas();\n    \n    // on lui associe une image qui sera celle partagée par toutes les textures stockée en son sein\n    atlas.data = assetsManager.getInstance().getImageByAlias(\"ground\");\n    \n    // on crée deux textures différentes, portant un nom différent, ayant chacune la même image\n    // mais pas les mêmes portions d'image associées\n    atlas.createTexture( \"texture_1\", 0,0,64,43);\n    \n    var texture = atlas.getTextureByName(\"texture_1\"); // on retrouve notre texture\n    var bmp = new Bitmap(); // on créer un nouvel objet de type Bitmap\n    bmp.texture = texture; // on y associe la texture\n    bmp.width = 64; // on définie la largeur\n    bmp.height = 43;//... puis la hauteur\n    \n    stage.getInstance().addChild(bmp); // on ajoute l'enfant à la racine\n    \n    // on recommence l'opération tout en changeant les coordonnées du deuxième enfant\n    bmp = new Bitmap();\n    bmp.texture = texture; \n    bmp.width = 64; \n    bmp.height = 43;\n    bmp.x = 100;\n    bmp.y = 100;\n    \n    stage.getInstance().addChild(bmp); // on l'ajoute aussi\n    stage.getInstance().setDebug(true);// on souhaite voir le fps\n}\n\nfunction getCanvas(){\n  return document.getElementById(\"tomahawk\");\n}\n\nfunction getContext(){\n  return getCanvas().getContext(\"2d\");\n}\n\n/* \n* Quand toutes les données sont chargées ( DOM, Images, Sons, Vidéos etc ... )\n* On démarre l'application par la fonction init\n*/\nwindow.onload = init;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/index-test.js","//Tomahawk.registerClass( AssetsLoader, \"AssetsLoader\" );\nlet instance = null;\n\nclass AssetsLoader {\n\tconstructor() {\n    if(!instance) {\n      instance = this;\n    }\n    this._loadingList = [];\n    //callback functions\n    this.onComplete = null;\n    this._data = null;\n\n    return instance;\n\t}\n\n  getInstance() {\n    if(!instance ) {\n      instance = this;\n    }\n    return this;\n  }\n\n  getData() {\n    return this._data;\n  }\n\n\n  addFile(fileURL, fileAlias) {\n    this._data = {};\n    this._loadingList.push({ url:fileURL,alias:fileAlias });\n  }\n\n  load() {\n    if( this._loadingList.length == 0 ){\n      if( this.onComplete ){\n        this.onComplete();\n      }\n    }\n    else{\n      const obj = this._loadingList.shift();\n      let image = new Image();\n      image.onload = () => {\n        this._onLoadComplete(image, obj.alias);\n      };\n      image.src = obj.url;\n    }\n  }\n\n  _onLoadComplete(image,alias){\n    this._data[alias] = image;\n    this.load();\n  }\n};\nexport default AssetsLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/assetsLoader.js","//Tomahawk.registerClass( AssetsManager, \"AssetsManager\" );\nlet instance = null;\n\nclass AssetsManager {\n\n  constructor() {\n    if(!instance) {\n      instance = this;\n    }\n    this._images = {};\n    this._atlases = {};\n    this._textures = {};\n\n    return instance;\n  }\n\n  getInstance() {\n    if(!instance ) {\n      instance = this;\n    }\n    return this;\n  }\n\n  addImage(image, alias) {\n    this._images[alias] = image;\n  }\n\n  getImages(){\n    return this._images;\n  }\n\n  getImageByAlias(alias){\n    if(this._images[alias]) {\n      return this._images[alias];\n    }\n    return null;\n  }\n\n  //atlases\n  addAtlas(atlas, alias) {\n    this._atlases[alias] = atlas;\n  }\n\n  getAtlases() {\n    return this._atlases;\n  }\n\n  getAtlasByAlias(alias){\n    if(this._atlases[alias]) {\n        return this._atlases[alias];\n    }\n    return null;\n  }\n\n  //textures\n  addTexture(texture, alias){\n      this._textures[alias] = texture;\n  }\n\n  getTextures(){\n      return this._textures;\n  }\n\n  getTextureByAlias(alias){\n    if(this._textures[alias]) {\n      return this._textures[alias];\n    }\n    return null;\n  }\n};\n\nexport default AssetsManager;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/assetsManager.js","//Tomahawk.registerClass( Texture, \"Texture\" );\nclass Texture {\n  constructor() {\n    this.data = null;\n    this.name = null;\n    this.rect = null;\n  }\n};\nexport default Texture;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/texture.js","//Tomahawk.registerClass( TextureAtlas, \"TextureAtlas\" );\nimport Texture from \"./texture\";\n\nclass TextureAtlas {\n  constructor() {\n    this._textures = [];\n    this.data = null;\n    this.name = null;\n  }\n\n  createTexture(name, startX, startY, endX, endY){\n    let texture = new Texture();\n    texture.name = name;\n    texture.data = this.data;\n    texture.rect = [startX, startY, endX, endY];\n    this._textures.push(texture);\n  }\n\n  getTextureByName(name){\n    return this._textures.find(texture => texture.name === name);\n    // while(--i > -1){\n    //   currentTexture = this._textures[i];\n    //   if(currentTexture.name == name){\n    //     return currentTexture;\n    //   }\n    // }\n  }\n\n  removeTexture(name){\n    let texture = this.getTextureByName(name);\n    if(texture === null) {\n      return;\n    }\n    let index = this._textures.indexOf(texture);\n    this._textures.splice(index,1);\n  }\n};\nexport default TextureAtlas;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/textureAtlas.js","// Tomahawk.registerClass( Stage, \"Stage\" );\n// Tomahawk.extend( \"Stage\", \"DisplayObjectContainer\" );\nimport DisplayObjectContainer from \"./displayObjectContainer\";\n\nlet instance = null;\n\nclass Stage extends DisplayObjectContainer {\n  constructor() {\n    super();\n    if(!instance) {\n      instance = this;\n    }\n    this._lastTime = 0;\n    this._frameCount = 0;\n    this._fps = 0;\n    this._canvas = null;\n    this._context = null;\n    this._debug = false;\n  }\n\n  myRequestAnimationFrame(){\n      return  window.requestAnimationFrame       ||  //Chromium\n              window.webkitRequestAnimationFrame ||  //Webkit\n              window.mozRequestAnimationFrame    || //Mozilla\n              window.oRequestAnimationFrame      || //Opera\n              window.msRequestAnimationFrame     || //IE\n              function(callback, element){ //Fallback function\n                  window.setTimeout(callback, 10);\n              }\n  }\n\n  getInstance() {\n    if(!instance ) {\n      instance = this;\n    }\n    return this;\n  }\n\n  init(canvas) {\n    this._canvas = canvas;\n    this._context = canvas.getContext(\"2d\");\n    this._enterFrame();\n  }\n\n  _enterFrame() {\n      const curTime = new Date().getTime();\n      this._frameCount++;\n      if(curTime - this._lastTime >= 1000){\n          this._fps = this._frameCount;\n          this._frameCount = 0;\n          this._lastTime = curTime;\n      }\n      this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\n      this._context.save();\n      this.render(this._context);\n      this._context.restore();\n      if(this._debug === true){\n          this._context.save();\n          this._context.beginPath();\n          this._context.fillStyle = \"black\";\n          this._context.fillRect(0,0,100,30);\n          this._context.fill();\n          this._context.fillStyle = \"#016701\";\n          this._context.font = \"18pt sans-serif\";\n          this._context.fillText(\"fps: \"+this._fps, 0,30);\n          this._context.restore();\n      }\n      this.myRequestAnimationFrame()( () => { this._enterFrame(); });\n  }\n\n  getCanvas() {\n      return this._canvas;\n  }\n\n  getContext() {\n      return this._context;\n  }\n\n  getFPS() {\n    return this._fps;\n  }\n\n  setDebug(debug) {\n    this._debug = debug;\n  }\n};\nexport default Stage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/stage.js","// Tomahawk.registerClass( DisplayObjectContainer, \"DisplayObjectContainer\" );\n// Tomahawk.extend( \"DisplayObjectContainer\", \"DisplayObject\" );\nimport DisplayObject from \"./displayObject\";\n\nclass DisplayObjectContainer extends DisplayObject {\n\n  constructor() {\n      super();\n      this.children = [];\n  }\n\n  addChild(child){\n    if(child.parent){\n      child.parent.removeChild(child);\n    }\n    child.parent = this;\n    this.children.push(child);\n  }\n\n  getChildAt(index) {\n    return this.children[index];\n  };\n\n  getChildByName(name) {\n    return this.children.find(child => child.name === name);\n  };\n\n  addChildAt(child, index){\n    const tab1 = this.children.slice(0,index);\n    const tab2 = this.children.slice(index);\n    this.children = tab1.concat([child]).concat(tab2);\n    child.parent = this;\n  };\n\n  removeChildAt(index){\n    const child = this.children[index];\n    if(child) {\n      child.parent = null;\n    }\n    this.children.splice(index,1);\n  };\n\n  removeChild(child){\n    const index = this.children.indexOf(child);\n    if(index > -1) {\n      this.children.splice(index,1);\n    }\n    child.parent = null;\n  };\n\n  draw(context) {\n    this.children.forEach(child => {\n      child.render(context);\n    });\n  }\n};\nexport default DisplayObjectContainer;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/displayObjectContainer.js","//Tomahawk.registerClass( DisplayObject, \"DisplayObject\" );\nimport Maxtrix2D from \"./matrix2D\";\n\nclass DisplayObject {\n\n  constructor() {\n    this.name = null;\n    this.parent = null;\n    this.x = 0;\n    this.y = 0;\n    this.scaleX = 1;\n    this.scaleY = 1;\n    this.width = 0;\n    this.height = 0;\n    this.rotation = 0;\n    this.alpha = 1;\n    this.matrix = new Matrix2D();\n  }\n\n  toRadians() {\n    return Math.PI / 180;\n  }\n\n  render(context) {        \n   this.update();        \n\n    if(this.visible === false) {\n      return;\n    }\n        \n    const mat = this.matrix;\n    context.save();\n    context.globalAlpha = this.alpha;\n    context.transform(mat.a,mat.b,mat.c,mat.d,mat.tx,mat.ty);\n    this.draw(context);\n    context.restore();\n  }\n\n  draw(context){\n    context.beginPath();\n    context.fillStyle = \"red\";\n    context.fillRect(0, 0, this.width, this.height);\n    context.fill();\n  }\n\n  update(){\n   const mat = this.matrix;   \n   mat.appendTransform(\n    this.x, \n        this.y, \n        this.scaleX, \n        this.scaleY, \n        this.rotation, \n        this.skewX, \n        this.skewY, \n        this.pivotX, \n        this.pivotY\n    );\n  }\n};\nexport default DisplayObject;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/displayObject.js","//Tomahawk.registerClass( Bitmap, \"Bitmap\" );\n//Tomahawk.extend( \"Bitmap\", \"DisplayObject\" );\nimport DisplayObject from \"./displayObject\";\n\nclass Bitmap extends DisplayObject{\n\tconstructor() {\n\t\tsuper();\n\t\tthis.texture = null;\n\t}\n\n\tdraw( context ) {\n\t\tconst { rect, data } = this.texture;\n\t\tconst [x,y, width, height] = rect;\n\t\tcontext.drawImage(data, x, y, width, height, 0, 0, this.width, this.height);\n\t}\n};\nexport default Bitmap;\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/bitmap.js","function Matrix2D(a, b, c, d, tx, ty){\n    this.initialize(a, b, c, d, tx, ty);\n}\n\n// static public properties:\n\n/**\n * An identity matrix, representing a null transformation.\n * @property identity\n * @static\n * @type Matrix2D\n * @readonly\n **/\nMatrix2D.prototype.identity = null;// set at bottom of class definition.\n\n/**\n * Multiplier for converting degrees to radians. Used internally by Matrix2D.\n * @property DEG_TO_RAD\n * @static\n * @final\n * @type Number\n * @readonly\n **/\nMatrix2D.DEG_TO_RAD = Math.PI/180;\n\n// public properties:\n/**\n * Position (0, 0) in a 3x3 affine transformation matrix.\n * @property a\n * @type Number\n **/\nMatrix2D.prototype.a = 1;\n\n/**\n * Position (0, 1) in a 3x3 affine transformation matrix.\n * @property b\n * @type Number\n **/\nMatrix2D.prototype.b = 0;\n\n/**\n * Position (1, 0) in a 3x3 affine transformation matrix.\n * @property c\n * @type Number\n **/\nMatrix2D.prototype.c = 0;\n\n/**\n * Position (1, 1) in a 3x3 affine transformation matrix.\n * @property d\n * @type Number\n **/\nMatrix2D.prototype.d = 1;\n\n/**\n * Position (2, 0) in a 3x3 affine transformation matrix.\n * @property tx\n * @type Number\n **/\nMatrix2D.prototype.tx = 0;\n\n/**\n * Position (2, 1) in a 3x3 affine transformation matrix.\n * @property ty\n * @type Number\n **/\nMatrix2D.prototype.ty = 0;\n\n\n\n// constructor:\n/**\n * Initialization method. Can also be used to reinitialize the instance.\n * @method initialize\n * @param {Number} [a=1] Specifies the a property for the new matrix.\n * @param {Number} [b=0] Specifies the b property for the new matrix.\n * @param {Number} [c=0] Specifies the c property for the new matrix.\n * @param {Number} [d=1] Specifies the d property for the new matrix.\n * @param {Number} [tx=0] Specifies the tx property for the new matrix.\n * @param {Number} [ty=0] Specifies the ty property for the new matrix.\n * @return {Matrix2D} This instance. Useful for chaining method calls.\n*/\nMatrix2D.prototype.initialize = function(a, b, c, d, tx, ty) {\n    this.a = (a == null) ? 1 : a;\n    this.b = b || 0;\n    this.c = c || 0;\n    this.d = (d == null) ? 1 : d;\n    this.tx = tx || 0;\n    this.ty = ty || 0;\n    return this;\n};\n\n// public methods:\n/**\n * Concatenates the specified matrix properties with this matrix. All parameters are required.\n * @method prepend\n * @param {Number} a\n * @param {Number} b\n * @param {Number} c\n * @param {Number} d\n * @param {Number} tx\n * @param {Number} ty\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.prepend = function(a, b, c, d, tx, ty) {\n    var tx1 = this.tx;\n    if (a != 1 || b != 0 || c != 0 || d != 1) {\n        var a1 = this.a;\n        var c1 = this.c;\n        this.a  = a1*a+this.b*c;\n        this.b  = a1*b+this.b*d;\n        this.c  = c1*a+this.d*c;\n        this.d  = c1*b+this.d*d;\n    }\n    this.tx = tx1*a+this.ty*c+tx;\n    this.ty = tx1*b+this.ty*d+ty;\n    return this;\n};\n\n/**\n * Appends the specified matrix properties with this matrix. All parameters are required.\n * @method append\n * @param {Number} a\n * @param {Number} b\n * @param {Number} c\n * @param {Number} d\n * @param {Number} tx\n * @param {Number} ty\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.append = function(a, b, c, d, tx, ty) {\n    var a1 = this.a;\n    var b1 = this.b;\n    var c1 = this.c;\n    var d1 = this.d;\n\n    this.a  = a*a1+b*c1;\n    this.b  = a*b1+b*d1;\n    this.c  = c*a1+d*c1;\n    this.d  = c*b1+d*d1;\n    this.tx = tx*a1+ty*c1+this.tx;\n    this.ty = tx*b1+ty*d1+this.ty;\n    return this;\n};\n\n/**\n * Prepends the specified matrix with this matrix.\n * @method prependMatrix\n * @param {Matrix2D} matrix\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.prependMatrix = function(matrix) {\n    this.prepend(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n    return this;\n};\n\n/**\n * Appends the specified matrix with this matrix.\n * @method appendMatrix\n * @param {Matrix2D} matrix\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.appendMatrix = function(matrix) {\n    this.append(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n    return this;\n};\n\n/**\n * Generates matrix properties from the specified display object transform properties, and prepends them with this matrix.\n * For example, you can use this to generate a matrix from a display object: var mtx = new Matrix2D();\n * mtx.prependTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\n * @method prependTransform\n * @param {Number} x\n * @param {Number} y\n * @param {Number} scaleX\n * @param {Number} scaleY\n * @param {Number} rotation\n * @param {Number} skewX\n * @param {Number} skewY\n * @param {Number} regX Optional.\n * @param {Number} regY Optional.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.prependTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n    if (rotation%360) {\n        var r = rotation*Matrix2D.DEG_TO_RAD;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n    } else {\n        cos = 1;\n        sin = 0;\n    }\n\n    if (regX || regY) {\n        // append the registration offset:\n        this.tx -= regX; this.ty -= regY;\n    }\n    if (skewX || skewY) {\n        // TODO: can this be combined into a single prepend operation?\n        skewX *= Matrix2D.DEG_TO_RAD;\n        skewY *= Matrix2D.DEG_TO_RAD;\n        this.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\n        this.prepend(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n    } else {\n        this.prepend(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\n    }\n    return this;\n};\n\n/**\n * Generates matrix properties from the specified display object transform properties, and appends them with this matrix.\n * For example, you can use this to generate a matrix from a display object: var mtx = new Matrix2D();\n * mtx.appendTransform(o.x, o.y, o.scaleX, o.scaleY, o.rotation);\n * @method appendTransform\n * @param {Number} x\n * @param {Number} y\n * @param {Number} scaleX\n * @param {Number} scaleY\n * @param {Number} rotation\n * @param {Number} skewX\n * @param {Number} skewY\n * @param {Number} regX Optional.\n * @param {Number} regY Optional.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.appendTransform = function(x, y, scaleX, scaleY, rotation, skewX, skewY, regX, regY) {\n    \n    if (rotation%360) {\n        var r = rotation*Matrix2D.DEG_TO_RAD;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n    } else {\n        cos = 1;\n        sin = 0;\n    }\n\n    if (skewX || skewY) {\n        // TODO: can this be combined into a single append?\n        skewX *= Matrix2D.DEG_TO_RAD;\n        skewY *= Matrix2D.DEG_TO_RAD;\n        this.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), x, y);\n        this.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, 0, 0);\n    } else {\n        this.append(cos*scaleX, sin*scaleX, -sin*scaleY, cos*scaleY, x, y);\n    }\n\n    if (regX || regY) {\n        // prepend the registration offset:\n        this.tx -= regX*this.a+regY*this.c;\n        this.ty -= regX*this.b+regY*this.d;\n    }\n    return this;\n};\n\n/**\n * Applies a rotation transformation to the matrix.\n * @method rotate\n * @param {Number} angle The angle in radians. To use degrees, multiply by <code>Math.PI/180</code>.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.rotate = function(angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n\n    var a1 = this.a;\n    var c1 = this.c;\n    var tx1 = this.tx;\n\n    this.a = a1*cos-this.b*sin;\n    this.b = a1*sin+this.b*cos;\n    this.c = c1*cos-this.d*sin;\n    this.d = c1*sin+this.d*cos;\n    this.tx = tx1*cos-this.ty*sin;\n    this.ty = tx1*sin+this.ty*cos;\n    return this;\n};\n\n/**\n * Applies a skew transformation to the matrix.\n * @method skew\n * @param {Number} skewX The amount to skew horizontally in degrees.\n * @param {Number} skewY The amount to skew vertically in degrees.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n*/\nMatrix2D.prototype.skew = function(skewX, skewY) {\n    skewX = skewX*Matrix2D.DEG_TO_RAD;\n    skewY = skewY*Matrix2D.DEG_TO_RAD;\n    this.append(Math.cos(skewY), Math.sin(skewY), -Math.sin(skewX), Math.cos(skewX), 0, 0);\n    return this;\n};\n\n/**\n * Applies a scale transformation to the matrix.\n * @method scale\n * @param {Number} x The amount to scale horizontally\n * @param {Number} y The amount to scale vertically\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.scale = function(x, y) {\n    this.a *= x;\n    this.d *= y;\n    this.c *= x;\n    this.b *= y;\n    this.tx *= x;\n    this.ty *= y;\n    return this;\n};\n\n/**\n * Translates the matrix on the x and y axes.\n * @method translate\n * @param {Number} x\n * @param {Number} y\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.translate = function(x, y) {\n    this.tx += x;\n    this.ty += y;\n    return this;\n};\n\n/**\n * Sets the properties of the matrix to those of an identity matrix (one that applies a null transformation).\n * @method identity\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.identity = function() {\n    this.a = this.d = 1;\n    this.b = this.c = this.tx = this.ty = 0;\n    return this;\n};\n\n/**\n * Inverts the matrix, causing it to perform the opposite transformation.\n * @method invert\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.invert = function() {\n    var a1 = this.a;\n    var b1 = this.b;\n    var c1 = this.c;\n    var d1 = this.d;\n    var tx1 = this.tx;\n    var n = a1*d1-b1*c1;\n\n    this.a = d1/n;\n    this.b = -b1/n;\n    this.c = -c1/n;\n    this.d = a1/n;\n    this.tx = (c1*this.ty-d1*tx1)/n;\n    this.ty = -(a1*this.ty-b1*tx1)/n;\n    return this;\n};\n\n/**\n * Returns true if the matrix is an identity matrix.\n * @method\nisIdentity\n * @return {Boolean}\n **/\nMatrix2D.prototype.isIdentity = function() {\n    return this.tx == 0 && this.ty == 0 && this.a == 1 && this.b == 0 && this.c == 0 && this.d == 1;\n};\n\n/**\n * Transforms a point according to this matrix.\n * @method transformPoint\n * @param {Number} x The x component of the point to transform.\n * @param {Number} y The y component of the point to transform.\n * @param {Point | Object} [pt] An object to copy the result into. If omitted a generic object with x/y properties will be returned.\n * @return {Point} This matrix. Useful for chaining method calls.\n **/\nMatrix2D.prototype.transformPoint = function(x, y, pt) {\n    pt = pt||{};\n    pt.x = x*this.a+y*this.c+this.tx;\n    pt.y = x*this.b+y*this.d+this.ty;\n    return pt;\n};\n\n/**\n * Decomposes the matrix into transform properties (x, y, scaleX, scaleY, and rotation). Note that this these values\n * may not match the transform properties you used to generate the matrix, though they will produce the same visual\n * results.\n * @method decompose\n * @param {Object} target The object to apply the transform properties to. If null, then a new object will be returned.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n*/\nMatrix2D.prototype.decompose = function(target) {\n    \n    if (target == null) { target = {}; }\n    target.x = this.tx;\n    target.y = this.ty;\n    target.scaleX = Math.sqrt(this.a * this.a + this.b * this.b);\n    target.scaleY = Math.sqrt(this.c * this.c + this.d * this.d);\n\n    var skewX = Math.atan2(-this.c, this.d);\n    var skewY = Math.atan2(this.b, this.a);\n\n    if (skewX == skewY) {\n        target.rotation = skewY/Matrix2D.DEG_TO_RAD;\n        if (this.a < 0 && this.d >= 0) {\n            target.rotation += (target.rotation <= 0) ? 180 : -180;\n        }\n        target.skewX = target.skewY = 0;\n    } else {\n        target.skewX = skewX/Matrix2D.DEG_TO_RAD;\n        target.skewY = skewY/Matrix2D.DEG_TO_RAD;\n    }\n    return target;\n};\n\n/**\n * Reinitializes all matrix properties to those specified.\n * @method reinitialize\n * @param {Number} [a=1] Specifies the a property for the new matrix.\n * @param {Number} [b=0] Specifies the b property for the new matrix.\n * @param {Number} [c=0] Specifies the c property for the new matrix.\n * @param {Number} [d=1] Specifies the d property for the new matrix.\n * @param {Number} [tx=0] Specifies the tx property for the new matrix.\n * @param {Number} [ty=0] Specifies the ty property for the new matrix.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n*/\nMatrix2D.prototype.reinitialize = function(a, b, c, d, tx, ty) {\n    this.initialize(a,b,c,d,tx,ty);\n    return this;\n};\n\n/**\n * Copies all properties from the specified matrix to this matrix.\n * @method copy\n * @param {Matrix2D} matrix The matrix to copy properties from.\n * @return {Matrix2D} This matrix. Useful for chaining method calls.\n*/\nMatrix2D.prototype.copy = function(matrix) {\n    return this.reinitialize(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n};\n\n/**\n * Returns a clone of the Matrix2D instance.\n * @method clone\n * @return {Matrix2D} a clone of the Matrix2D instance.\n **/\nMatrix2D.prototype.clone = function() {\n    return (new Matrix2D()).copy(this);\n};\n\n/**\n * Returns a string representation of this object.\n * @method toString\n * @return {String} a string representation of the instance.\n **/\nMatrix2D.prototype.toString = function() {\n    return \"[Matrix2D (a=\"+this.a+\" b=\"+this.b+\" c=\"+this.c+\" d=\"+this.d+\" tx=\"+this.tx+\" ty=\"+this.ty+\")]\";\n};\nMatrix2D.identity = new Matrix2D();\n\nexport default Maxtrix2D;\n\n\n// WEBPACK FOOTER //\n// ./src/client/app/matrix2D.js"],"sourceRoot":""}